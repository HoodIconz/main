<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hood Iconz | Premium Auto Aesthetics</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Stripe JS SDK -->
    <script src="https://js.stripe.com/v3/"></script>
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600;800;900&family=Montserrat:wght@300;400;500;700&display=swap" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'cyber-pink': '#FF0055', 
                        'cyber-blue': '#00F0FF', 
                        'cyber-purple': '#8F00FF',
                        'void-dark': '#000000',
                    },
                    fontFamily: {
                        'display': ['Orbitron', 'sans-serif'],
                        'body': ['Montserrat', 'sans-serif'],
                    },
                    animation: {
                        'float': 'float 8s ease-in-out infinite',
                        'pulse-slow': 'pulse 4s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'marquee': 'marquee 25s linear infinite',
                        'fade-in': 'fadeIn 0.5s ease-out',
                        'gradient-move': 'gradientMove 15s ease infinite',
                    },
                    keyframes: {
                        float: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-15px)' },
                        },
                        marquee: {
                            '0%': { transform: 'translateX(0%)' },
                            '100%': { transform: 'translateX(-100%)' },
                        },
                        fadeIn: {
                            '0%': { opacity: '0', transform: 'translateY(10px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' },
                        },
                        gradientMove: {
                            '0%': { backgroundPosition: '0% 50%' },
                            '50%': { backgroundPosition: '100% 50%' },
                            '100%': { backgroundPosition: '0% 50%' },
                        }
                    },
                    dropShadow: {
                        'glow-blue': '0 0 15px rgba(0, 240, 255, 0.6)',
                        'glow-pink': '0 0 15px rgba(255, 0, 85, 0.6)',
                    }
                }
            }
        }
    </script>

    <style>
        /* Base Aesthetic - Apple/Samsung Modern Mesh */
        body {
            background-color: #000000;
            color: #ffffff;
            overflow-x: hidden;
        }

        /* Modern Mesh Gradient Background */
        .mesh-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            z-index: -2;
            background: 
                radial-gradient(at 0% 0%, rgba(0, 240, 255, 0.25) 0px, transparent 50%),
                radial-gradient(at 98% 1%, rgba(143, 0, 255, 0.25) 0px, transparent 50%),
                radial-gradient(at 98% 98%, rgba(255, 0, 85, 0.2) 0px, transparent 50%),
                radial-gradient(at 2% 98%, rgba(0, 240, 255, 0.15) 0px, transparent 50%),
                radial-gradient(at 50% 50%, rgba(255, 255, 255, 0.03) 0px, transparent 50%);
            filter: blur(80px);
            background-size: 120% 120%;
            opacity: 0.8;
        }

        /* Chrome Text Effect */
        .chrome-text {
            background: linear-gradient(180deg, #FFFFFF 0%, #E0E0E0 40%, #00F0FF 50%, #FFFFFF 55%, #8F00FF 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            filter: drop-shadow(0 0 20px rgba(0, 240, 255, 0.4));
        }

        .chrome-text-simple {
            background: linear-gradient(to right, #fff, #00F0FF, #fff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        /* Premium Liquid Glass */
        .glass-panel {
            background: rgba(20, 20, 20, 0.4);
            backdrop-filter: blur(40px) saturate(180%);
            -webkit-backdrop-filter: blur(40px) saturate(180%);
            border: 1px solid rgba(255, 255, 255, 0.08);
            box-shadow: 
                0 20px 40px rgba(0, 0, 0, 0.4),
                inset 0 0 0 1px rgba(255, 255, 255, 0.05);
            transition: all 0.5s cubic-bezier(0.19, 1, 0.22, 1);
        }

        .glass-panel:hover {
            background: rgba(30, 30, 30, 0.5);
            border-color: rgba(255, 255, 255, 0.2);
            transform: translateY(-5px) scale(1.005);
            box-shadow: 0 30px 60px rgba(0, 0, 0, 0.5);
        }
        
        /* Action Button */
        .btn-modern {
            background: linear-gradient(135deg, #FF0055, #8F00FF, #00F0FF);
            background-size: 200% 200%;
            animation: gradientMove 5s ease infinite;
            border: none;
        }
        
        .btn-loading {
            position: relative;
            color: transparent !important;
            pointer-events: none;
        }
        
        .btn-loading::after {
            content: '';
            position: absolute;
            width: 20px;
            height: 20px;
            top: 50%;
            left: 50%;
            margin-left: -10px;
            margin-top: -10px;
            border: 2px solid #fff;
            border-radius: 50%;
            border-top-color: transparent;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Notification Animation */
        .notification {
            transform: translateX(150%);
            transition: transform 0.5s cubic-bezier(0.19, 1, 0.22, 1);
        }
        .notification.show {
            transform: translateX(0);
        }

        /* Marquee wrapper */
        .marquee-container {
            mask-image: linear-gradient(to right, transparent, black 10%, black 90%, transparent);
        }

        /* Scrollbar */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.2); border-radius: 10px; }
        ::-webkit-scrollbar-thumb:hover { background: #00F0FF; }
        
        .fade-in {
            animation: fadeIn 0.6s ease-out forwards;
        }
        
        /* Text readability helpers */
        .text-shadow-sm { text-shadow: 0 2px 4px rgba(0,0,0,0.5); }
        .text-shadow-glow { text-shadow: 0 0 20px rgba(0, 240, 255, 0.5); }

        /* FAQ Section Styling */
        .faq details {
            border-bottom: 1px solid rgba(255,255,255,0.1); /* Adjusted for transparency */
            padding: 20px 0;
        }

        /* Question styling */
        .faq summary {
            cursor: pointer;
            font-weight: 700;
            font-size: 1.1em;
            position: relative;
            padding-left: 35px;
            color: #FF0055; /* Matched to cyber-pink theme */
            transition: all 0.3s ease;
            list-style: none; /* Remove default marker */
        }
        
        .faq summary::-webkit-details-marker {
            display: none;
        }

        .faq summary:hover {
            color: #00F0FF; /* Hover to cyber-blue */
            text-shadow: 0 0 10px rgba(0, 240, 255, 0.5);
        }

        /* Arrow icon */
        .faq summary::before {
            content: "▶";
            position: absolute;
            left: 0;
            font-size: 0.8em;
            top: 4px;
            transition: transform 0.3s ease;
            color: inherit;
        }

        /* Rotate arrow when open */
        .faq details[open] summary::before {
            transform: rotate(90deg);
        }

        /* Answer styling */
        .faq details p {
            margin-top: 15px;
            line-height: 1.8;
            color: #ccc;
            font-size: 0.95em;
            padding-left: 35px;
            animation: fadeIn 0.5s ease-out;
        }
    </style>
</head>
<body class="font-body antialiased relative min-h-screen selection:bg-cyber-blue selection:text-black">

    <!-- The Modern Mesh Background -->
    <div class="mesh-background"></div>

    <!-- Notification Toast -->
    <div id="notification" class="fixed top-24 right-5 z-50 notification glass-panel p-4 rounded-2xl flex items-center gap-4 border border-white/10">
        <div class="w-10 h-10 rounded-full bg-cyber-blue flex items-center justify-center text-black shadow-[0_0_15px_#00F0FF]">
            <i class="fas fa-check"></i>
        </div>
        <div>
            <h4 class="font-body font-bold text-sm text-white">Added to Cache</h4>
            <p class="text-xs text-gray-300">Your selection is secured.</p>
        </div>
    </div>

    <!-- Navigation -->
    <nav class="fixed w-full z-50 transition-all duration-300 backdrop-blur-xl bg-black/50 border-b border-white/5">
        <div class="max-w-7xl mx-auto px-6 h-24 flex items-center justify-between">
            <!-- Logo -->
            <a href="#" class="group flex items-center gap-3">
                <img src="https://iili.io/fjYVVPS.md.png" alt="Hood Iconz Logo" class="h-20 w-auto object-contain drop-shadow-glow-blue group-hover:scale-110 transition-transform duration-500">
                <span class="font-display font-black text-xl tracking-widest text-white group-hover:text-cyber-blue transition-colors">HOOD ICONZ</span>
            </a>

            <!-- Desktop Links -->
            <div class="hidden md:flex items-center gap-8">
                <a href="#products" class="text-xs font-bold tracking-[0.2em] text-gray-300 hover:text-white transition-colors uppercase">Collection</a>
                <a href="#about" class="text-xs font-bold tracking-[0.2em] text-gray-300 hover:text-white transition-colors uppercase">FAQs</a>
                <a href="#features" class="text-xs font-bold tracking-[0.2em] text-gray-300 hover:text-white transition-colors uppercase">Tech</a>
            </div>

            <!-- Actions -->
            <div class="flex items-center gap-6">
                <button onclick="toggleCart()" class="relative group">
                    <i class="fas fa-shopping-bag text-xl text-white group-hover:text-cyber-blue transition-colors"></i>
                    <span id="cart-badge" class="absolute -top-1 -right-2 bg-cyber-pink text-white text-[10px] font-bold h-4 w-4 flex items-center justify-center rounded-full hidden shadow-[0_0_10px_#FF0055]">0</span>
                </button>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <header class="relative min-h-screen flex flex-col items-center justify-center pt-32 px-4 overflow-hidden">
        
        <!-- Main Content -->
        <div class="relative z-10 text-center w-full max-w-6xl mx-auto">
            
            <p class="font-mono text-cyber-blue text-xs md:text-sm tracking-[0.5em] mb-4 animate-pulse drop-shadow-glow-blue">EST. 2025 // AUTOMOTIVE AUGMENTATION</p>
            
            <!-- Massive Chrome Title -->
            <h1 class="font-display font-black text-6xl sm:text-8xl md:text-9xl tracking-tighter leading-none mb-8 chrome-text select-none hover:scale-[1.02] transition-transform duration-500">
                HOOD<br>ICONZ
            </h1>
            
            <div class="mt-12 flex flex-col md:flex-row items-center justify-center gap-6">
                <a href="#products" class="btn-modern px-10 py-4 text-white font-display font-bold text-sm tracking-widest uppercase rounded-full hover:scale-105 transition-transform shadow-[0_0_30px_rgba(0,240,255,0.4)]">
                    Access Shop
                </a>
                <p class="text-gray-200 text-sm max-w-xs md:text-left font-light leading-relaxed text-shadow-sm border-l border-white/20 pl-4">
                    Magnetic, modular hood ornaments for the modern outlaw. <span class="text-white font-medium">No drills required.</span>
                </p>
            </div>
        </div>

        <!-- Scrolling Ticker -->
        <div class="absolute bottom-0 w-full border-t border-white/5 bg-black/20 backdrop-blur-md h-12 flex items-center overflow-hidden marquee-container">
            <div class="whitespace-nowrap animate-marquee flex gap-12 items-center">
                <span class="text-gray-300 font-display font-bold text-xs tracking-widest uppercase"><span class="text-cyber-blue mx-2 drop-shadow-glow-blue">●</span> High Velocity Magnets</span>
                <span class="text-gray-300 font-display font-bold text-xs tracking-widest uppercase"><span class="text-cyber-pink mx-2 drop-shadow-glow-pink">●</span> Ultra High UV Resistant PETG Filament</span>
                <span class="text-gray-300 font-display font-bold text-xs tracking-widest uppercase"><span class="text-cyber-purple mx-2">●</span> Modular Design</span>
                <span class="text-gray-300 font-display font-bold text-xs tracking-widest uppercase"><span class="text-cyber-blue mx-2 drop-shadow-glow-blue">●</span> High Velocity Magnets</span>
                <span class="text-gray-300 font-display font-bold text-xs tracking-widest uppercase"><span class="text-cyber-pink mx-2 drop-shadow-glow-pink">●</span> Ultra High UV Resistant PETG Filament</span>
                <span class="text-gray-300 font-display font-bold text-xs tracking-widest uppercase"><span class="text-cyber-purple mx-2">●</span> Modular Design</span>
            </div>
        </div>
    </header>

    <!-- Features Grid -->
    <section id="features" class="py-24 relative z-10">
        <div class="max-w-7xl mx-auto px-6">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <div class="glass-panel p-8 rounded-3xl group">
                    <div class="w-16 h-16 rounded-2xl bg-gradient-to-br from-gray-800 to-black flex items-center justify-center mb-6 group-hover:scale-110 transition-transform shadow-lg border border-white/10">
                        <i class="fas fa-magnet text-3xl text-cyber-pink drop-shadow-glow-pink"></i>
                    </div>
                    <h3 class="font-display font-bold text-xl mb-3 text-white">Magnetic Grip</h3>
                    <p class="text-gray-400 text-sm leading-relaxed">Industrial grade neodymium magnets ensure your icon stays put.</p>
                </div>
                <div class="glass-panel p-8 rounded-3xl group">
                    <div class="w-16 h-16 rounded-2xl bg-gradient-to-br from-gray-800 to-black flex items-center justify-center mb-6 group-hover:scale-110 transition-transform shadow-lg border border-white/10">
                        <i class="fas fa-layer-group text-3xl text-cyber-blue drop-shadow-glow-blue"></i>
                    </div>
                    <h3 class="font-display font-bold text-xl mb-3 text-white">Swap & Go</h3>
                    <p class="text-gray-400 text-sm leading-relaxed">Change your style in seconds. Our universal mounting technology lets you swap icons instantly.</p>
                </div>
                <div class="glass-panel p-8 rounded-3xl group">
                    <div class="w-16 h-16 rounded-2xl bg-gradient-to-br from-gray-800 to-black flex items-center justify-center mb-6 group-hover:scale-110 transition-transform shadow-lg border border-white/10">
                        <i class="fas fa-cube text-3xl text-cyber-purple"></i>
                    </div>
                    <h3 class="font-display font-bold text-xl mb-3 text-white">Premium Materials</h3>
                    <p class="text-gray-400 text-sm leading-relaxed">Each piece is printed in high-fidelity ultra high UV resistant PETG filament. </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Product Collection -->
    <section id="products" class="py-24 relative z-10">
        <div class="max-w-7xl mx-auto px-6">
            <div class="flex flex-col md:flex-row justify-between items-end mb-16 gap-4">
                <div class="flex flex-col items-start">
                    <h2 class="font-display font-black text-4xl md:text-5xl text-white mb-2 chrome-text-simple">THE ARMORY</h2>
                    <p class="text-gray-300 text-sm tracking-widest uppercase mb-4">Latest Arrivals / Season 4</p>
                    
                    <!-- Discount Banner -->
                    <div class="inline-flex items-center gap-3 px-4 py-2 rounded-lg bg-cyber-pink/10 border border-cyber-pink/30 backdrop-blur-md mb-2">
                        <i class="fas fa-tag text-cyber-pink text-sm animate-pulse"></i>
                        <p class="text-xs font-mono text-white">
                            LIMITED TIME: All Premade Models <span class="line-through text-gray-500 mx-1">$75</span> <span class="text-cyber-blue font-bold text-sm">$60</span>
                        </p>
                    </div>

                    <!-- Shipping Banner -->
                    <div class="inline-flex items-center gap-3 px-4 py-2 rounded-lg bg-cyber-blue/10 border border-cyber-blue/30 backdrop-blur-md">
                        <i class="fas fa-truck-fast text-cyber-blue text-sm"></i>
                        <p class="text-xs font-mono text-white uppercase">
                            Free Shipping within the United States
                        </p>
                    </div>
                </div>
            </div>

            <div id="product-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- Javascript will inject here -->
            </div>
        </div>
    </section>

    <!-- FAQ / Concept Section -->
    <section id="about" class="py-24 relative z-10 bg-black/40 backdrop-blur-md border-y border-white/5">
        <div class="max-w-3xl mx-auto px-6">
            <h2 class="font-display font-black text-4xl text-center text-white mb-10 chrome-text-simple">FAQS</h2>
            
            <div class="faq">
                <details>
                    <summary>Who are we?</summary>
                    <p>We’re two brothers from Alaska who create the coolest vehicular accessory known to man: fully customizable hood ornaments designed to let cars look as cool as their drivers already are.</p>
                </details>

                <details>
                    <summary>Why magnets?</summary>
                    <p>Magnets make installation fast and tool-free. No drilling, no damage, no permanent changes to your vehicle. We use strong neodymium magnets for a secure, paint-safe hold.</p>
                </details>

                <details>
                    <summary>What materials do you use?</summary>
                    <p>Right now we use high-quality plastics for durability, detail, and weight balance. Premium metal 3D-printed ornaments (gold/chrome finishes, light-up) are planned for future limited edition ornaments.</p>
                </details>

                <details>
                    <summary>What sizes and colors do you offer?</summary>
                    <p>Every model can be printed in <strong>any size and color</strong> you want — small, huge, medium, or completely custom dimensions.</p>
                </details>

                <details>
                    <summary>Are the ornaments weatherproof?</summary>
                    <p>Yes. They’re built to withstand sun, rain, snow, cold, and daily driving conditions.</p>
                </details>

                <details>
                    <summary>Will they fit my car?</summary>
                    <p>Most vehicles have steel hoods that magnets stick to. Some cars have aluminum hoods, and magnets will <strong>not</strong> stick to those. We recommend testing your hood with a simple fridge magnet first. But we will be offering a suction cup base soon.</p>
                </details>

                <details>
                    <summary>Are they easy to remove?</summary>
                    <p>Yes. They hold firmly while driving but can be removed by hand when you want to swap designs.</p>
                </details>

                <details>
                    <summary>Do you do custom models?</summary>
                    <p>Email us for custom inquiries - <a href="mailto:hoodiconz@gmail.com" class="text-cyber-blue hover:text-white transition-colors">hoodiconz@gmail.com</a></p>
                </details>
            </div>
        </div>
    </section>
    
    <!-- Made in USA Banner -->
    <section class="py-12 relative z-10">
        <div class="max-w-7xl mx-auto px-6">
            <div class="glass-panel rounded-3xl p-12 text-center relative overflow-hidden group">
                 <!-- Background decorative flag effect -->
                 <div class="absolute inset-0 opacity-10 bg-gradient-to-br from-blue-900 via-transparent to-red-900"></div>
                 
                 <i class="fas fa-flag-usa text-5xl md:text-6xl mb-6 text-white drop-shadow-glow-blue"></i>
                 <h2 class="font-display font-black text-3xl md:text-5xl text-white mb-4 chrome-text tracking-tighter">MADE IN THE USA</h2>
                 <p class="text-gray-300 font-mono text-xs md:text-sm tracking-[0.3em] uppercase">Engineered in Colorado // Global Shipping</p>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-black/40 border-t border-white/5 py-16 relative z-10 backdrop-blur-xl">
        <div class="max-w-7xl mx-auto px-6">
            <!-- Main Footer Content - Centered -->
            <div class="flex flex-col items-center gap-8 mb-12">
                <div class="flex flex-col items-center text-center">
                    <a href="#" class="flex flex-col items-center gap-4 mb-6 group">
                        <img src="https://iili.io/fjY412a.md.png" alt="Hood Iconz Logo" class="h-64 w-auto object-contain drop-shadow-glow-blue opacity-80 group-hover:opacity-100 transition-all duration-500">
                    </a>
                    <p class="text-gray-500 text-sm max-w-md">The future of automotive customization. <br>Based in Colorado, shipping worldwide.</p>
                    <a href="mailto:hoodiconz@gmail.com" class="text-gray-500 text-sm mt-2 block hover:text-cyber-blue transition-colors">hoodiconz@gmail.com</a>
                </div>
                
                <!-- Social Icons -->
                <div class="flex gap-6">
                    <a href="https://www.instagram.com/hood_iconzz/" target="_blank" class="w-10 h-10 rounded-full bg-white/5 flex items-center justify-center text-gray-400 hover:text-white hover:bg-cyber-pink transition-all">
                        <i class="fab fa-instagram"></i>
                    </a>
                </div>
            </div>

            <!-- Footer Bottom -->
            <div class="border-t border-white/5 pt-8 flex flex-col md:flex-row justify-between items-center text-xs text-gray-500 font-mono text-center md:text-left gap-4">
                <p>&copy; 2025 HOOD ICONZ. ALL RIGHTS RESERVED.</p>
                <div class="flex gap-6">
                    <button onclick="toggleReturnModal()" class="hover:text-gray-300 transition-colors uppercase">RETURNS</button>
                </div>
            </div>
        </div>
    </footer>

    <!-- Returns Modal -->
    <div id="return-modal" class="fixed inset-0 bg-black/80 backdrop-blur-sm z-[80] hidden flex items-center justify-center p-4 transition-opacity duration-300 opacity-0">
        <div class="glass-panel w-full max-w-lg p-8 rounded-2xl relative transform scale-95 transition-transform duration-300 border border-white/10">
            <button onclick="toggleReturnModal()" class="absolute top-4 right-4 text-gray-400 hover:text-white transition-colors">
                <i class="fas fa-times text-xl"></i>
            </button>
            
            <h2 class="font-display font-bold text-2xl text-white mb-2 chrome-text-simple">INITIATE RETURN</h2>
            <p class="text-gray-400 text-sm mb-6">We're sorry it didn't work out. Fill this out to start the process.</p>
            
            <form onsubmit="submitReturn(event)" class="space-y-4">
                <div>
                    <label class="block text-xs font-bold text-gray-500 uppercase tracking-wider mb-1">Order Number</label>
                    <input type="text" id="return-order" required class="w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white focus:border-cyber-blue focus:outline-none transition-colors placeholder-gray-600" placeholder="#12345">
                </div>
                
                <div>
                    <label class="block text-xs font-bold text-gray-500 uppercase tracking-wider mb-1">Reason</label>
                    <div class="relative">
                        <select id="return-reason" class="w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white focus:border-cyber-blue focus:outline-none transition-colors appearance-none [&>option]:bg-black">
                            <option>Defective / Damaged</option>
                            <option>Wrong Item Sent</option>
                            <option>Changed Mind</option>
                            <option>Other</option>
                        </select>
                        <i class="fas fa-chevron-down absolute right-3 top-3.5 text-gray-500 pointer-events-none text-xs"></i>
                    </div>
                </div>
                
                <div>
                    <label class="block text-xs font-bold text-gray-500 uppercase tracking-wider mb-1">Message</label>
                    <textarea id="return-message" rows="4" class="w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white focus:border-cyber-blue focus:outline-none transition-colors placeholder-gray-600" placeholder="Tell us what happened..."></textarea>
                </div>
                
                <button type="submit" class="w-full py-4 btn-modern text-white font-bold font-display uppercase tracking-widest hover:opacity-90 transition-opacity rounded-xl shadow-[0_0_20px_rgba(0,240,255,0.3)] mt-2">
                    Send Request via Email
                </button>
            </form>
        </div>
    </div>

    <!-- Lightbox / Zoom Modal -->
    <div id="lightbox" class="fixed inset-0 z-[100] bg-black/95 backdrop-blur-xl hidden opacity-0 transition-opacity duration-300 flex items-center justify-center p-4 cursor-zoom-out" onclick="closeLightbox()">
        <!-- Close Button -->
        <button class="absolute top-6 right-6 text-white/50 hover:text-white transition-colors z-[101]">
            <i class="fas fa-times text-3xl"></i>
        </button>
        
        <!-- Image Container -->
        <div class="relative w-full h-full flex items-center justify-center" onclick="event.stopPropagation()">
            <img id="lightbox-img" src="" class="max-w-full max-h-[90vh] object-contain drop-shadow-[0_0_50px_rgba(0,240,255,0.2)] scale-95 transition-transform duration-300 select-none">
        </div>
    </div>

    <!-- Cart Slide-Over -->
    <div id="cart-overlay" class="fixed inset-0 bg-black/60 backdrop-blur-md z-[60] hidden transition-opacity opacity-0" onclick="toggleCart()"></div>
    <div id="cart-sidebar" class="fixed top-0 right-0 h-full w-full sm:w-[450px] bg-[#0a0a0a] border-l border-white/10 z-[70] transform translate-x-full transition-transform duration-500 cubic-bezier(0.19, 1, 0.22, 1) flex flex-col shadow-[-20px_0_50px_rgba(0,0,0,0.7)]">
        
        <!-- Cart Header -->
        <div class="p-6 border-b border-white/5 flex justify-between items-center bg-white/5 backdrop-blur-xl">
            <div>
                <h2 class="text-xl font-display font-bold text-white tracking-wider">YOUR CACHE</h2>
                <p class="text-xs text-gray-400 font-mono mt-1">SECURE TRANSACTION // ENCRYPTED</p>
            </div>
            <button onclick="toggleCart()" class="w-8 h-8 flex items-center justify-center rounded-full hover:bg-white/10 transition-colors">
                <i class="fas fa-times text-gray-400 hover:text-white"></i>
            </button>
        </div>

        <!-- Cart Items -->
        <div id="cart-items" class="flex-1 overflow-y-auto p-6 space-y-4">
            <!-- Items injected here -->
        </div>

        <!-- Cart Footer -->
        <div class="p-8 border-t border-white/5 bg-white/5 backdrop-blur-xl">
            <div class="flex justify-between items-end mb-6">
                <span class="text-gray-400 text-xs font-bold tracking-widest uppercase">Subtotal</span>
                <span id="cart-total" class="text-2xl font-display font-bold text-white">$0.00</span>
            </div>
            
            <!-- Checkout Button -->
            <button id="checkout-btn" onclick="initiateCheckout()" class="w-full py-4 btn-modern text-white font-bold font-display uppercase tracking-widest hover:opacity-90 transition-opacity rounded-xl shadow-[0_0_20px_rgba(0,240,255,0.3)]">
                Initiate Checkout
            </button>
            
            <p class="text-[10px] text-center mt-4 text-gray-500">Processed securely by Stripe</p>
        </div>
    </div>

    <!-- Logic -->
    <script>
        // ==========================================
        // CONFIGURATION
        // ==========================================
        // 1. Stripe Public Key (Replace with yours)
        const STRIPE_PUBLIC_KEY = 'pk_test_51SZKTtFX67gaPbuqqZWqy461sKO94npTHHRSRZlakhJVnLrrZUKkvTefOkSdIamzxeBJnNc1dKAYTUnXaMdisJY400UEQGPzAc';
        
        // 2. Backend URL 
        // Netlify serves functions at this specific path. 
        // We use relative path so it works on localhost and live site.
        const BACKEND_URL = '/.netlify/functions/checkout'; 
        
        // Initialize Stripe
        let stripe;
        try {
            stripe = Stripe(STRIPE_PUBLIC_KEY);
        } catch (e) {
            console.error("Stripe initialization failed. Check your API key.");
        }

        // --- Data ---
        const products = [
            {
                id: 1,
                name: "UNICORN",
                price: 60.00,
                images: [
                    "https://iili.io/fxgnjxj.md.png",
                    "https://iili.io/fh8VdCP.md.png"
                ],
                currentImageIndex: 0,
                desc: "Mythical aerodynamics. A sharp, geometric reimagining of the legendary beast, designed to cut through the wind and reality alike.",
                tags: []
            },
            {
                id: 3,
                name: "GOLDEN RETRIEVER",
                price: 60.00,
                images: [
                    "https://iili.io/fzIt05x.md.png",
                    "https://iili.io/fh81Wp2.md.png"
                ],
                currentImageIndex: 0,
                desc: "The faithful navigator. A tribute to man's best friend, scanning the horizon. Loyalty that sticks at any speed.",
                tags: []
            },
            {
                id: 2,
                name: "ELEPHANT",
                price: 60.00,
                images: [
                    "https://iili.io/fzTKLPf.md.png",
                    "https://iili.io/fh8rDsn.md.png"
                ],
                currentImageIndex: 0,
                desc: "Unstoppable force. Heavy-duty aesthetics representing wisdom and raw power. Dominate the lane with this low-poly titan.",
                tags: []
            },
            {
                id: 4,
                name: "HIGHLAND COW",
                price: 60.00,
                images: [
                    "https://iili.io/fhBEUQf.md.png",
                    "https://iili.io/fhBWV9I.md.png"
                ],
                currentImageIndex: 0,
                desc: "Rugged endurance. The spirit of the wild highlands, built for the toughest roads. Horns out, fear nothing.",
                tags: []
            },
            {
                id: 5,
                name: "ZEN MASTER CLAUS",
                price: 60.00,
                images: [
                    "https://iili.io/fh8SONt.md.png",
                    "https://iili.io/fh8SKF4.md.png"
                ],
                currentImageIndex: 0,
                desc: "Presents, I have. Speed, you seek. A festive fusion of galactic wisdom and holiday cheer. May the torque be with you.",
                tags: []
            },
            {
                id: 6,
                name: "VELOCITY RAPTOR",
                price: 60.00,
                images: ["https://iili.io/fh8X7I4.md.png"],
                currentImageIndex: 0,
                desc: "Evolution accelerated. Razor-sharp geometry meets prehistoric instinct. A ruthless hunter designed to dominate the fast lane.",
                tags: []
            }
        ];

        let cart = [];

        // --- Render Products ---
        function renderProducts() {
            const grid = document.getElementById('product-grid');
            grid.innerHTML = products.map((product, index) => {
                const hasMultipleImages = product.images.length > 1;
                
                return `
                <div class="glass-panel rounded-3xl overflow-hidden relative group h-full flex flex-col" style="animation-delay: ${index * 100}ms">
                    
                    <!-- Image Area -->
                    <div class="h-64 relative overflow-hidden bg-white/5 flex items-center justify-center p-4 group/image">
                        
                        <!-- Zoom Button -->
                        <button onclick="openLightbox(${product.id}, event)" class="absolute top-3 right-3 w-8 h-8 rounded-full bg-black/50 backdrop-blur-md flex items-center justify-center text-white/70 hover:text-white hover:bg-cyber-pink transition-all border border-white/10 z-20 opacity-0 group-hover:opacity-100 translate-y-2 group-hover:translate-y-0 duration-300">
                            <i class="fas fa-expand text-xs"></i>
                        </button>

                        <!-- Navigation Arrows -->
                        ${hasMultipleImages ? `
                            <button onclick="changeImage(${product.id}, -1, event)" class="absolute left-2 top-1/2 -translate-y-1/2 w-8 h-8 flex items-center justify-center text-white/20 hover:text-cyber-blue transition-colors z-20 hover:bg-black/40 rounded-full backdrop-blur-sm opacity-0 group-hover:opacity-100 duration-300">
                                <i class="fas fa-chevron-left"></i>
                            </button>
                            <button onclick="changeImage(${product.id}, 1, event)" class="absolute right-2 top-1/2 -translate-y-1/2 w-8 h-8 flex items-center justify-center text-white/20 hover:text-cyber-blue transition-colors z-20 hover:bg-black/40 rounded-full backdrop-blur-sm opacity-0 group-hover:opacity-100 duration-300">
                                <i class="fas fa-chevron-right"></i>
                            </button>
                        ` : ''}

                        <!-- Main Image -->
                        <img id="img-${product.id}" 
                             src="${product.images[0]}" 
                             class="h-full w-full object-contain drop-shadow-[0_10px_20px_rgba(0,0,0,0.5)] transition-all duration-300 group-hover:scale-105 z-0 select-none">
                    </div>
                    
                    <!-- Content -->
                    <div class="p-6 flex-1 flex flex-col border-t border-white/5">
                        <div class="flex justify-between items-start mb-2">
                            <h3 class="font-display font-bold text-lg text-white group-hover:text-cyber-blue transition-colors">${product.name}</h3>
                            <span class="font-mono text-white">$${product.price}</span>
                        </div>
                        <p class="text-gray-300 text-xs leading-relaxed mb-6 flex-1 font-light">${product.desc}</p>
                        
                        <button onclick="addToCart(${product.id})" class="w-full py-3 border border-white/10 rounded-xl text-xs font-bold text-white uppercase tracking-widest hover:bg-white hover:text-black transition-all group-hover:border-white/30 flex items-center justify-center gap-2 backdrop-blur-sm bg-black/20">
                            <span>Add to Cache</span>
                            <i class="fas fa-plus text-[10px]"></i>
                        </button>
                    </div>
                </div>
            `;
            }).join('');
        }

        // --- Image Gallery Function ---
        function changeImage(id, step, event) {
            if (event) event.stopPropagation(); // Stop bubbling

            const product = products.find(p => p.id === id);
            if (!product || product.images.length <= 1) return;

            // Calculate new index wrapping around
            let newIndex = product.currentImageIndex + step;
            if (newIndex >= product.images.length) newIndex = 0;
            if (newIndex < 0) newIndex = product.images.length - 1;
            
            product.currentImageIndex = newIndex;
            
            const imgElement = document.getElementById(`img-${id}`);
            
            // Fade out
            imgElement.style.opacity = '0';
            imgElement.style.transform = 'scale(0.95)';
            
            setTimeout(() => {
                // Change source
                imgElement.src = product.images[product.currentImageIndex];
                
                // Fade in
                imgElement.onload = () => {
                    imgElement.style.opacity = '1';
                    imgElement.style.transform = 'scale(1)';
                };
            }, 200);
        }

        // --- Lightbox Functions ---
        function openLightbox(productId, event) {
            if (event) event.stopPropagation(); // Prevent nextImage trigger if user clicks zoom button
            
            const product = products.find(p => p.id === productId);
            const lightbox = document.getElementById('lightbox');
            const lightboxImg = document.getElementById('lightbox-img');
            
            // Use current image index so it matches what they are looking at in the card
            lightboxImg.src = product.images[product.currentImageIndex || 0];
            
            lightbox.classList.remove('hidden');
            // small delay for transition
            setTimeout(() => {
                lightbox.classList.remove('opacity-0');
                lightboxImg.classList.remove('scale-95');
                lightboxImg.classList.add('scale-100');
            }, 10);
            
            document.body.style.overflow = 'hidden';
        }

        function closeLightbox() {
            const lightbox = document.getElementById('lightbox');
            const lightboxImg = document.getElementById('lightbox-img');
            
            lightbox.classList.add('opacity-0');
            lightboxImg.classList.remove('scale-100');
            lightboxImg.classList.add('scale-95');
            
            setTimeout(() => {
                lightbox.classList.add('hidden');
                document.body.style.overflow = '';
            }, 300);
        }

        // --- Cart Functions ---
        function addToCart(id) {
            const product = products.find(p => p.id === id);
            const existingItem = cart.find(item => item.id === id);

            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                cart.push({ ...product, quantity: 1 });
            }

            updateCartUI();
            showNotification();
        }

        function removeFromCart(id) {
            cart = cart.filter(item => item.id !== id);
            updateCartUI();
        }

        function updateQuantity(id, change) {
            const item = cart.find(item => item.id === id);
            if (item) {
                item.quantity += change;
                if (item.quantity <= 0) {
                    removeFromCart(id);
                } else {
                    updateCartUI();
                }
            }
        }

        function updateCartUI() {
            const cartItemsContainer = document.getElementById('cart-items');
            const cartTotalElement = document.getElementById('cart-total');
            const cartBadge = document.getElementById('cart-badge');

            const totalItems = cart.reduce((acc, item) => acc + item.quantity, 0);
            cartBadge.innerText = totalItems;
            cartBadge.classList.toggle('hidden', totalItems === 0);

            const total = cart.reduce((acc, item) => acc + (item.price * item.quantity), 0);
            cartTotalElement.innerText = '$' + total.toFixed(2);

            if (cart.length === 0) {
                cartItemsContainer.innerHTML = `
                    <div class="flex flex-col items-center justify-center h-full text-gray-500">
                        <i class="fas fa-cube text-4xl mb-4 opacity-50"></i>
                        <p class="font-mono text-xs uppercase tracking-widest text-shadow-sm">Cache Empty</p>
                    </div>
                `;
                return;
            }

            cartItemsContainer.innerHTML = cart.map(item => `
                <div class="flex gap-4 items-center bg-white/5 p-4 rounded-xl border border-white/10 group hover:border-white/30 transition-colors shadow-sm">
                    <img src="${item.images[0]}" class="w-16 h-16 object-contain bg-black/30 rounded-lg p-2">
                    <div class="flex-1">
                        <h4 class="font-display font-bold text-sm text-white text-shadow-sm">${item.name}</h4>
                        <div class="text-cyber-blue text-xs font-mono mt-1 text-shadow-sm">$${item.price}</div>
                    </div>
                    <div class="flex flex-col items-end gap-3">
                        <button onclick="removeFromCart(${item.id})" class="text-xs text-gray-500 hover:text-cyber-pink transition-colors">
                            <i class="fas fa-times"></i>
                        </button>
                        <div class="flex items-center bg-black/40 rounded-lg border border-white/10 overflow-hidden shadow-sm">
                            <button onclick="updateQuantity(${item.id}, -1)" class="px-2 py-1 text-[10px] text-gray-400 hover:text-white hover:bg-white/10 transition-colors">-</button>
                            <span class="text-[10px] font-mono w-6 text-center text-white">${item.quantity}</span>
                            <button onclick="updateQuantity(${item.id}, 1)" class="px-2 py-1 text-[10px] text-gray-400 hover:text-white hover:bg-white/10 transition-colors">+</button>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // --- CHECKOUT LOGIC (Netlify Function Connection) ---
        async function initiateCheckout() {
            const btn = document.getElementById('checkout-btn');
            
            if (cart.length === 0) {
                alert("Your cart is empty!");
                return;
            }

            // UI Loading State
            btn.classList.add('btn-loading');
            
            try {
                // Call the Netlify Function
                const response = await fetch(BACKEND_URL, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        items: cart
                    }),
                });

                if (response.status === 404) {
                      // This means the function isn't found (likely because we are in preview mode)
                      throw new Error('Backend function not found. Did you deploy to Netlify?');
                }

                if (!response.ok) {
                    const errData = await response.json();
                    throw new Error(errData.error || `Server error: ${response.statusText}`);
                }

                const session = await response.json();

                if (session.error) {
                    throw new Error(session.error);
                }

                // Redirect to Stripe Checkout
                const result = await stripe.redirectToCheckout({
                    sessionId: session.id,
                });

                if (result.error) {
                    throw new Error(result.error.message);
                }
            } catch (error) {
                console.error('Checkout Error:', error);
                alert(`Checkout Failed: ${error.message}\n\n(Note: You must deploy to Netlify for payments to work.)`);
                btn.classList.remove('btn-loading');
            }
        }

        // --- UI Interactions ---
        function toggleCart() {
            const sidebar = document.getElementById('cart-sidebar');
            const overlay = document.getElementById('cart-overlay');
            const isClosed = sidebar.classList.contains('translate-x-full');

            if (isClosed) {
                sidebar.classList.remove('translate-x-full');
                overlay.classList.remove('hidden');
                setTimeout(() => overlay.classList.remove('opacity-0'), 10);
                document.body.style.overflow = 'hidden';
            } else {
                sidebar.classList.add('translate-x-full');
                overlay.classList.add('opacity-0');
                setTimeout(() => overlay.classList.add('hidden'), 500);
                document.body.style.overflow = '';
            }
        }

        // --- Returns Modal Logic ---
        function toggleReturnModal() {
            const modal = document.getElementById('return-modal');
            const content = modal.querySelector('div');
            
            if (modal.classList.contains('hidden')) {
                modal.classList.remove('hidden');
                // Small timeout to allow display:block to apply before opacity transition
                setTimeout(() => {
                    modal.classList.remove('opacity-0');
                    content.classList.remove('scale-95');
                    content.classList.add('scale-100');
                }, 10);
                document.body.style.overflow = 'hidden';
            } else {
                modal.classList.add('opacity-0');
                content.classList.remove('scale-100');
                content.classList.add('scale-95');
                setTimeout(() => {
                    modal.classList.add('hidden');
                }, 300);
                document.body.style.overflow = '';
            }
        }

        function submitReturn(e) {
            e.preventDefault();
            const order = document.getElementById('return-order').value;
            const reason = document.getElementById('return-reason').value;
            const message = document.getElementById('return-message').value;
            
            // Construct email body
            const subject = encodeURIComponent(`Return Request: Order ${order}`);
            const body = encodeURIComponent(`Order Number: ${order}\nReason: ${reason}\n\nMessage:\n${message}\n\n----------------\nPlease attach any relevant photos to this email.`);
            
            // Open default email client
            window.location.href = `mailto:hoodiconz@gmail.com?subject=${subject}&body=${body}`;
            
            // Close modal after short delay
            setTimeout(() => {
                toggleReturnModal();
                // Reset form
                e.target.reset();
            }, 1000);
        }

        function showNotification() {
            const notif = document.getElementById('notification');
            notif.classList.add('show');
            setTimeout(() => {
                notif.classList.remove('show');
            }, 3000);
        }

        // Init
        document.addEventListener('DOMContentLoaded', () => {
            renderProducts();

            // Check for success/cancel upon page load (Redirected back from Stripe)
            const urlParams = new URLSearchParams(window.location.search);
            if (urlParams.get('success')) {
                cart = []; // Clear cart on success
                updateCartUI();
                setTimeout(() => alert("Payment Successful! Your Hood Iconz are on the way."), 500);
            } else if (urlParams.get('canceled')) {
                setTimeout(() => alert("Payment canceled."), 500);
            }
        });

    </script>
</body>
</html>
